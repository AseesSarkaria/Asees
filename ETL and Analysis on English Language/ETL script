import logging
logging.basicConfig(level = logging.INFO)
import json
import requests


api_key = "xxxxxxxxxxxx" 
word = "word"
lang = "en"
loc = "us"
audio_format = "mp3"


def connect_mw_dictionary(api_key, word):
  logging.info("Connecting...")
  URL = "https://www.dictionaryapi.com/api/v3/references/sd2/json/"+word+"? 
  key="+api_key
  PARAMS = {'word': word,'key': api_key}
  r = requests.get(url = URL, params = PARAMS)
  r.encoding = 'utf-8'
  if r.status_code == 200:
    logging.info("Connection successful.")
    return True, r.json()
  else:
    logging.info("Connection failed.")
    return False

def fetch_dictionary_result(res, lang, loc, audio_format, word):
  dict_txt = str(res[0]['def'][0]['sseq'][0][0][1]['dt'][0][1]).replace(" 
{bc}","")
  return dict_txt

status, result = connect_mw_dictionary(api_key, word)
if status == True:
  status, dictionary_result = fetch_dictionary_result(result, lang, loc, 
audio_format, word)
